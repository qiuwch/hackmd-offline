# Done: How to pause the game

Here is a document teaching how to [pause the game with blueprint script](https://docs.unrealengine.com/latest/INT/Engine/UMG/QuickStart/5/). Every blueprint script can correspond to an underlying C++ implementation, so it is easy to do the same thing in C++. But the tricky part is pausing a game is likely to stop the execution of the game thread, making it unresponsive to UnrealCV commands. This is something I need to avoid.

[APlayerController](https://github.com/EpicGames/UnrealEngine/blob/release/Engine/Source/Runtime/Engine/Private/PlayerController.cpp) provides the function `Pause` to pause the game. See `ServerPause` and `SetPause`. The actual work is done by `GameMode`, `SetPause`. The game mode is accessed with `GetWorld()->GetAuthGameMode()`. The pause function of the GameMode did the real heavy lifting. The `SetPause` is implemented in [GameModeBase](https://github.com/EpicGames/UnrealEngine/blob/release/Engine/Source/Runtime/Engine/Private/GameModeBase.cpp#L156)? What is `FCanUnpause` and what is `Pauser`? [FCanUnpause](https://github.com/EpicGames/UnrealEngine/blob/release/Engine/Source/Runtime/Engine/Classes/GameFramework/GameModeBase.h#L23) is just a simple delegate, nothing fancy. What is the `Pauser` in `AWorldSetting`. The idea should be stop the ticking of an actor if I want to stop its visual effect (FX)? If I set the `GameState` to pause, the ticking will all be effected, is it right? See [here](https://github.com/EpicGames/UnrealEngine/blob/release/Engine/Source/Runtime/Engine/Private/PlayerController.cpp#L3960), here the tick function checks `if (TickType == LEVELTICK_PauseTick && !ShouldPerformFullTickWhenPaused())`. `ELevelTick TickType`. [ELevelTick](https://github.com/EpicGames/UnrealEngine/blob/release/Engine/Source/Runtime/Engine/Classes/Engine/EngineBaseTypes.h#L55)

`APlayerController` has a function `GetWorld`, how is it implemented? The `GetWorld` is implemented in `AActor`, the base class of the `APlayerController`. `AActor` is implemented in [here](https://github.com/EpicGames/UnrealEngine/blob/release/Engine/Source/Runtime/Engine/Private/Actor.cpp#L281). The `GetWorld` is implemented by `GetLevel`, so how to implement `GetLevel`? `GetLevel` is done by `GetOuter()`. So this object must belongs to a level, so that we can implement it in this way.

## A few resources of this topic
- [Set Pause blueprint API](https://docs.unrealengine.com/latest/INT/BlueprintAPI/Game/SetGamePaused/index.html)
- [How to set Game Pause?](https://answers.unrealengine.com/questions/30319/how-to-set-game-pause.html) this suggests `PlayerController`.
- [Pause through blueprints](https://answers.unrealengine.com/questions/211996/how-do-i-pause-the-whole-level-through-blueprints.html) this suggests `UGameplayStatics`. This is from blueprint function library and is a high-level function. This one uses `PlayerController` in its implementation.
- [Accepting player input while paused C++](https://answers.unrealengine.com/questions/143905/accepting-player-input-while-paused-c.html), this is useful for solving the freezing issue. `bExecuteWhenPaused` is an important property, making sure it won't be paused. This leads to the final solution of my problem, just make sure the `bCanPause` enabled should be enough.
- [Pause the game without the controller](https://answers.unrealengine.com/questions/19199/how-do-i-pause-the-game-without-the-player-control.html)